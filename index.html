<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Valentine's Day</title>

  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Pacifico', cursive;
      background: #ffd6e8; /* light pink background */
      overflow: hidden;
      text-align: center;
    }

    /* Cinematic intro overlay */
    #intro {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle, #ffc0cb, #ff9bb3);
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 40px;
      z-index: 10;
      animation: fadeOut 3s ease 2s forwards;
    }

    @keyframes fadeOut {
      to { opacity: 0; visibility: hidden; }
    }

    .container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 24px;
      border-radius: 20px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.15);
      width: 90%;
      max-width: 420px;
      z-index: 5;
      opacity: 0;
      animation: fadeIn 2s ease 3s forwards;
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    input, button {
      width: 100%;
      padding: 12px;
      margin: 10px 0;
      border-radius: 12px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    button {
      background: #ff4d6d;
      color: white;
      border: none;
      cursor: pointer;
    }

    canvas {
      display: none;
      position: absolute;
      top: 0;
      left: 0;
    }

    /* Flower-shaped falling particles */
    .flowerRain {
      position: absolute;
      top: -40px;
      width: 22px;
      height: 22px;
      background: radial-gradient(circle, #ff4d6d 40%, #c1121f);
      border-radius: 50%;
      box-shadow:
        0 -10px 0 #ff4d6d,
        10px 0 0 #ff4d6d,
        -10px 0 0 #ff4d6d,
        0 10px 0 #ff4d6d;
      animation: fall linear infinite;
      opacity: 0.9;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(360deg);
      }
    }

    #typeText {
      position: absolute;
      bottom: 10%;
      width: 100%;
      font-size: 26px;
      color: #c1121f;
      padding: 0 20px;
    }

    @media (max-width: 480px) {
      #typeText { font-size: 20px; }
    }
  </style>
</head>
<body>

  <div id="intro">A little surprise for Sabrina… ❤️</div>

  <div class="container" id="formContainer">
    <h1>Valentine Questions ❤️</h1>
    <input id="q1" placeholder="What is your favorite memory of us?" />
    <input id="q2" placeholder="When did we first meet?" />
    <input id="q3" placeholder="What do you never want to change about us?" />
    <button onclick="startDrawing()">Submit</button>
  </div>

  <canvas id="canvas"></canvas>
  <div id="typeText"></div>

  <audio id="music" loop>
    <source src="https://cdn.pixabay.com/download/audio/2023/02/28/audio_1a5b4c9c6f.mp3" type="audio/mpeg">
  </audio>

  <script>
    function startDrawing() {
      if (!q1.value.trim() || !q2.value.trim() || !q3.value.trim()) {
        alert('Please answer all questions ❤️');
        return;
      }

      formContainer.style.display = 'none';

      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      canvas.style.display = 'block';

      music.play().catch(()=>{});

      animate3DHeart(ctx, canvas.width/2, canvas.height/2, 12, () => {
        drawNameParticles(ctx);
        typeMessage("Happy Valentines day Sabrina. Yokesh Loves Sabrina to the moon! ❤️");
        startFlowerRain();
      });
    }

    function animate3DHeart(ctx, x, y, scale, callback) {
      let t = 0;

      function draw() {
        ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);

        ctx.save();
        ctx.translate(x, y);
        ctx.scale(1 + Math.sin(Date.now()/300)*0.05, 1 + Math.sin(Date.now()/300)*0.05);

        ctx.beginPath();
        for (let a=0; a<Math.PI*2; a+=0.01) {
          const hx = 16*Math.pow(Math.sin(a),3);
          const hy = 13*Math.cos(a)-5*Math.cos(2*a)-2*Math.cos(3*a)-Math.cos(4*a);
          ctx.lineTo(hx*scale, -hy*scale);
        }

        const gradient = ctx.createRadialGradient(0,0,10,0,0,150);
        gradient.addColorStop(0,'#ff758f');
        gradient.addColorStop(1,'#c1121f');

        ctx.fillStyle = gradient;
        ctx.shadowColor = '#ff4d6d';
        ctx.shadowBlur = 40;
        ctx.fill();

        ctx.restore();

        if (t < 120) {
          t++;
          requestAnimationFrame(draw);
        } else {
          callback();
        }
      }

      draw();
    }

    /* Particles forming Sabrina's name */
    function drawNameParticles(ctx) {
      const text = "SABRINA";
      ctx.font = "bold 80px Arial";
      const metrics = ctx.measureText(text);
      const x = ctx.canvas.width/2 - metrics.width/2;
      const y = ctx.canvas.height/2 + 30;

      ctx.fillStyle = "#ffffff";
      ctx.globalAlpha = 0.15;
      ctx.fillText(text, x, y);
      ctx.globalAlpha = 1;
    }

    function typeMessage(text) {
      const el = document.getElementById('typeText');
      let i = 0;
      function type() {
        if (i < text.length) {
          el.innerHTML += text[i];
          i++;
          setTimeout(type, 40);
        }
      }
      type();
    }

    function startFlowerRain() {
      setInterval(() => {
        const f = document.createElement('div');
        f.className = 'flowerRain';
        f.style.left = Math.random()*100 + 'vw';
        f.style.animationDuration = (6 + Math.random()*4) + 's';
        document.body.appendChild(f);
        setTimeout(()=>f.remove(), 10000);
      }, 300);
    }
  </script>

</body>
</html>

